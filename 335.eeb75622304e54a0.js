"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[335],{7335:(S,p,l)=>{l.r(p),l.d(p,{ProductModule:()=>O});var c=l(4755),m=l(4466),u=l(4871),t=l(3020),g=l(3377);const _=function(n){return["/products",n,"reviews"]};function f(n,i){if(1&n&&(t.TgZ(0,"div")(1,"h3"),t._uU(2),t.qZA(),t.TgZ(3,"button",4),t._uU(4,"Review"),t.qZA()()),2&n){const e=i.ngIf;t.xp6(2),t.Oqu(e.name),t.xp6(1),t.Q6J("routerLink",t.VKq(2,_,e.id))}}let h=(()=>{class n{constructor(e,o,r){this.route=e,this.ps=o,this.router=r}ngOnInit(){this.route.paramMap.subscribe(e=>{this.id=Number(e.get("id")),console.log(this.id),isNaN(this.id)||(this.product$=this.ps.getProductById(this.id))})}prevProduct(){this.id-=1,this.id<1&&(this.id=6),this.router.navigate(["/products",this.id])}nextProduct(){this.id+=1,this.id>6&&(this.id=1),this.router.navigate(["/products",this.id])}goBack(){setTimeout(()=>{this.router.navigate(["/products"])},2e3)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.gz),t.Y36(g.M),t.Y36(u.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-detail"]],decls:12,vars:3,consts:[[1,"row"],[1,"col"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],[1,"btn","btn-dark",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return o.goBack()}),t._uU(3,"Back"),t.qZA()(),t.TgZ(4,"div",1)(5,"button",2),t.NdJ("click",function(){return o.prevProduct()}),t._uU(6,"< Prev"),t.qZA(),t.TgZ(7,"button",2),t.NdJ("click",function(){return o.nextProduct()}),t._uU(8,"Next >"),t.qZA()()(),t.YNc(9,f,5,4,"div",3),t.ALo(10,"async"),t._UZ(11,"router-outlet")),2&e&&(t.xp6(9),t.Q6J("ngIf",t.lcZ(10,1,o.product$)))},dependencies:[c.O5,u.lC,u.rH,c.Ov]}),n})();var C=l(8505),T=l(262),Z=l(9646),a=l(5030);let w=(()=>{class n{constructor(){this.rating=0,this.starWidth=0,this.ratingClick=new t.vpe}ngOnInit(){console.log("onInit")}ngOnChanges(){console.log("onChanges"),this.starWidth=16*this.rating}ratingClicked(){this.ratingClick.emit(this.rating)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-star"]],inputs:{rating:"rating"},outputs:{ratingClick:"ratingClick"},features:[t.TTD],decls:7,vars:2,consts:[[1,"crop",3,"click"],[2,"width","80px"],[1,"bi-star-fill"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return o.ratingClicked()}),t.TgZ(1,"div",1),t._UZ(2,"i",2)(3,"i",2)(4,"i",2)(5,"i",2)(6,"i",2),t.qZA()()),2&e&&t.Udp("width",o.starWidth,"px")},styles:[".crop[_ngcontent-%COMP%]{overflow:hidden;cursor:pointer}"]}),n})(),M=(()=>{class n{transform(e,o=""){return e.replace("-",o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"convertToSpaces",type:n,pure:!0}),n})();const y=function(){return{"width.px":200,"height.px":200}};function A(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",17)(1,"img",18),t.NdJ("error",function(r){t.CHM(e);const s=t.oxw(3);return t.KtG(r.target.src=s.defaultImage)}),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.image,t.LSH)("alt",e.name)("ngStyle",t.DdM(3,y))}}const x=function(n){return["/products",n]};function P(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",9),t.YNc(2,A,2,4,"div",10),t.TgZ(3,"div",11)(4,"h5",12),t._uU(5),t.ALo(6,"uppercase"),t.qZA(),t.TgZ(7,"p",13),t._uU(8),t.ALo(9,"slice"),t.qZA(),t.TgZ(10,"strong",14),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.ALo(18,"convertToSpaces"),t.qZA(),t.TgZ(19,"app-star",15),t.NdJ("ratingClick",function(r){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onRatingClicked(r))}),t.qZA(),t.TgZ(20,"div")(21,"a",16),t.NdJ("click",function(r){const d=t.CHM(e).$implicit,Q=t.oxw(2);return t.KtG(Q.addToCart(r,d))}),t._uU(22,"Add To Cart"),t.qZA()()()()()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("ngIf",o.showImage),t.xp6(2),t.Udp("font-style","italic")("cursor","pointer"),t.Q6J("routerLink",t.VKq(30,x,e.id)),t.xp6(1),t.hij(" ",t.lcZ(6,13,e.name)," "),t.xp6(2),t.Q6J("title",e.description),t.xp6(1),t.Oqu(t.Dn7(9,15,e.description,0,50)),t.xp6(3),t.Oqu(t.gM2(12,19,e.price,"EUR","symbol","1.2-3")),t.xp6(3),t.Oqu(t.xi3(15,24,e.publishedDate,"dd - MMM - YYYY")),t.xp6(3),t.Oqu(t.xi3(18,27,e.code,":")),t.xp6(2),t.Q6J("rating",e.rating)}}function J(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",7),t.YNc(2,P,23,32,"div",8),t.ALo(3,"slice"),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",t.Dn7(3,1,e.filteredProducts,0,6))}}function b(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",3),t._uU(2," Loading Products... "),t.qZA()())}function F(n,i){if(1&n&&(t.TgZ(0,"div",0)(1,"div",3)(2,"div",19),t._uU(3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.errorMessage," ")}}let q=(()=>{class n{ngOnChanges(e){console.log("ngOnChange")}ngOnInit(){this.loading=!0,this.products$=this.ps.getProducts().pipe((0,C.b)(e=>{this.loading=!1,this.products=e,this.filteredProducts=e,this.errorMessage=null}),(0,T.K)(e=>(this.loading=!1,this.errorMessage=e,(0,Z.of)([]))))}constructor(e){this.ps=e,this.errorMessage=null,this.loading=!1,this.defaultImage="/assets/noimage.png",this.imgStyles={"width.px":200,"height.px":200},this.products=[],this._filterBy="",this.filteredProducts=this.products,this.showImage=!0}addToCart(e,o){console.log(e.x),console.log("add to cart "+o.id),this.ps.increment()}get filterBy(){return this._filterBy}set filterBy(e){this._filterBy=e,this.filterProducts(this._filterBy)}filterProducts(e){this.filteredProducts=this.products.filter(o=>o.name.toLowerCase().includes(e.toLowerCase()))}onRatingClicked(e){alert(`Clicked rating is ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-list"]],features:[t.TTD],decls:14,vars:9,consts:[[1,"row"],[1,"col","mb-3"],["type","text","placeholder","Search...",1,"form-control",3,"value","input"],[1,"col"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-4"],[4,"ngFor","ngForOf"],[1,"card",2,"width","18rem"],["class","d-flex justify-content-center m-4",4,"ngIf"],[1,"card-body"],[1,"card-title",3,"routerLink"],[1,"card-text",3,"title"],["appHighlight",""],[3,"rating","ratingClick"],[1,"btn","btn-primary",3,"click"],[1,"d-flex","justify-content-center","m-4"],[1,"card-img-top",3,"src","alt","ngStyle","error"],["role","alert",1,"alert","alert-danger"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"input",2),t.NdJ("input",function(s){return o.filterBy=s.target.value}),t.qZA()(),t._uU(3),t.qZA(),t.TgZ(4,"div",0)(5,"div",3)(6,"input",4),t.NdJ("ngModelChange",function(s){return o.showImage=s}),t.qZA(),t._uU(7),t.qZA()(),t.YNc(8,J,4,5,"ng-container",5),t.ALo(9,"async"),t._UZ(10,"br")(11,"br"),t.YNc(12,b,3,0,"div",6),t.YNc(13,F,4,1,"div",6)),2&e&&(t.xp6(2),t.Q6J("value",o.filterBy),t.xp6(1),t.hij(" ",o.filterBy,"\n"),t.xp6(3),t.Q6J("ngModel",o.showImage),t.xp6(1),t.hij(" ",o.showImage," "),t.xp6(1),t.Q6J("ngIf",t.lcZ(9,7,o.products$)),t.xp6(4),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",o.errorMessage))},dependencies:[c.sg,c.O5,c.PC,a.Wl,a.JJ,a.On,w,u.rH,c.Ov,c.gd,c.OU,c.H9,c.uU,M]}),n})();class L{}function U(n,i){1&n&&(t.TgZ(0,"div",15),t._uU(1," Author name not provided "),t.qZA())}function k(n,i){if(1&n&&(t.TgZ(0,"option",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}const N=[{path:"",component:q,title:"MyStore | Products"},{path:":id",component:h,title:"Product Detail",canActivate:[(n,i)=>{const e=(0,t.f3M)(u.F0),o=Number(n.paramMap.get("id"));return!isNaN(o)||(e.navigate(["/products"]),!1)}],children:[{path:"reviews",component:(()=>{class n{constructor(){this.reviewForm=new L,this.ratings=[1,2,3,4,5],this.reviewForm.rating=4}submitForm(){console.log(this.reviewForm)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-review"]],decls:25,vars:10,consts:[[3,"ngSubmit"],["rf","ngForm"],[1,"mb-3"],["for","author",1,"form-label"],["type","text","id","author","name","author","required","",1,"form-control",3,"ngModel","ngModelChange"],["author","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","rating",1,"form-label"],["id","rating","name","rating",1,"form-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","description",1,"form-label"],["id","description","rows","3","name","description",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"],[3,"value"]],template:function(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"form",0,1),t.NdJ("ngSubmit",function(){t.CHM(r);const d=t.MAs(1);return t.KtG(d.valid&&o.submitForm())}),t.TgZ(2,"div",2)(3,"label",3),t._uU(4,"Author"),t.qZA(),t.TgZ(5,"input",4,5),t.NdJ("ngModelChange",function(d){return o.reviewForm.author=d}),t.qZA()(),t.YNc(7,U,2,0,"div",6),t.TgZ(8,"div",2)(9,"label",7),t._uU(10,"Email"),t.qZA(),t.TgZ(11,"input",8),t.NdJ("ngModelChange",function(d){return o.reviewForm.email=d}),t.qZA()(),t.TgZ(12,"div",2)(13,"label",9),t._uU(14,"Rating"),t.qZA(),t.TgZ(15,"select",10),t.NdJ("ngModelChange",function(d){return o.reviewForm.rating=d}),t.YNc(16,k,2,2,"option",11),t.qZA()(),t.TgZ(17,"div",2)(18,"label",12),t._uU(19,"Description"),t.qZA(),t.TgZ(20,"textarea",13),t.NdJ("ngModelChange",function(d){return o.reviewForm.description=d}),t.qZA()(),t.TgZ(21,"button",14),t._uU(22,"Submit"),t.qZA()(),t._uU(23),t.ALo(24,"json")}if(2&e){const r=t.MAs(1),s=t.MAs(6);t.xp6(5),t.Q6J("ngModel",o.reviewForm.author),t.xp6(2),t.Q6J("ngIf",s.invalid&&s.dirty),t.xp6(4),t.Q6J("ngModel",o.reviewForm.email),t.xp6(4),t.Q6J("ngModel",o.reviewForm.rating),t.xp6(1),t.Q6J("ngForOf",o.ratings),t.xp6(4),t.Q6J("ngModel",o.reviewForm.description),t.xp6(1),t.Q6J("disabled",r.invalid),t.xp6(2),t.hij(" ",t.lcZ(24,8,o.reviewForm),"")}},dependencies:[c.sg,c.O5,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.Q7,a.On,a.F,c.Ts]}),n})()}]}];let I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.Bz.forChild(N),u.Bz]}),n})(),O=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,m.m,I]}),n})()}}]);